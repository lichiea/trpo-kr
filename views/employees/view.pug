extends ../layout

block content

  // –ü–µ—Ä–≤–æ–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –ø–æ–ª–µ
  header.header
    .container
      .header-content
        a.logo(href='/')
          i.fas.fa-spray-can
          span –ö–ª–∏–Ω–∏–Ω–≥–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è

  .page-container
    .navigation-links
      a.back-link(href='/employees') ‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
    
    .content-card
      .profile-header
        h1.page-title= title
  
      .profile-content
        form#employeeForm.profile-form
          .form-section
            h2.section-title –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            
            .form-grid
              .form-group
                label(for="editfio") –§–ò–û:
                if can_view_employees
                  input#editfio(type='text', value=employee.fio, name="fio")
                else
                  .form-value= employee.fio
              
              .form-group
                label(for="editphone") –¢–µ–ª–µ—Ñ–æ–Ω:
                if can_view_employees
                  input#editphone(type='text', value=employee.phone, name="phone")
                else
                  .form-value= employee.phone
              
              .form-group
                label(for="editemail") Email:
                if can_view_employees
                  input#editemail(type='email', value=employee.email, name="email")
                else
                  .form-value= employee.email
              
              .form-group
                label(for="editposition_d") –î–æ–ª–∂–Ω–æ—Å—Ç—å:
                if can_view_employees
                  input#editposition_d(type='text', value=employee.position_d, name="position_d")
                else
                  .form-value= employee.position_d
              
              .form-group
                label(for="editspecialization") –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:
                if can_view_employees
                  input#editspecialization(type='text', value=employee.specialization, name="specialization")
                else
                  .form-value= employee.specialization
              
              .form-group
                label(for="editid_pol") ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
                if can_view_employees
                  input#editid_pol(type='number', value=employee.id_pol, name="id_pol")
                else
                  .form-value= employee.id_pol

              .form-actions
                .buttons-row
                  if can_view_employees
                    button.primary-button#editSaveButton(type="button") –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                    button.danger-button#deleteButton(type="button") –£–¥–∞–ª–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
                  else
                    .no-permission-message –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è        

        if userData
          .info-section
            h2.section-title –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–∏—Å—Ç–µ–º–µ
            
            .info-grid
              .info-item
                .info-label ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
                .info-value= userData.user_id
              .info-item
                .info-label –õ–æ–≥–∏–Ω:
                .info-value= userData.login || '–ù–µ —É–∫–∞–∑–∞–Ω'
              .info-item
                .info-label –†–æ–ª—å:
                .info-value= userData.role || '–ù–µ —É–∫–∞–∑–∞–Ω–∞'
        else
          .info-section
            .empty-message –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ
        
        if isTeamLeader || teamInfo
          .info-section
            h2.section-title –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–∏–≥–∞–¥–µ
            
            if isTeamLeader
              .info-card.team-leader-card
                .info-icon üèÜ
                .info-content
                  h3 –°–æ—Ç—Ä—É–¥–Ω–∏–∫ —è–≤–ª—è–µ—Ç—Å—è –±—Ä–∏–≥–∞–¥–∏—Ä–æ–º
                  .info-details
                    .detail
                      .detail-label –ë—Ä–∏–≥–∞–¥–∞ ‚Ññ:
                      .detail-value= isTeamLeader.team_id
                    .detail
                      .detail-label –°—Ç–∞—Ç—É—Å:
                      .detail-value –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –±—Ä–∏–≥–∞–¥—ã
            
            else if teamInfo
              .info-card.team-member-card
                .info-icon üë•
                .info-content
                  h3 –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –≤—Ö–æ–¥–∏—Ç –≤ –±—Ä–∏–≥–∞–¥—É
                  .info-details
                    .detail
                      .detail-label –ù–æ–º–µ—Ä –±—Ä–∏–≥–∞–¥—ã:
                      .detail-value= teamInfo.team_id
                    
                    if teamLeaderInfo
                      .detail
                        .detail-label –ë—Ä–∏–≥–∞–¥–∏—Ä:
                        .detail-value= teamLeaderInfo.team_leader_fio
                      .detail
                        .detail-label –î–æ–ª–∂–Ω–æ—Å—Ç—å –±—Ä–∏–≥–∞–¥–∏—Ä–∞:
                        .detail-value= teamLeaderInfo.team_leader_position
        else
          .info-section
            .info-card
              .empty-message –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –Ω–µ –≤—Ö–æ–¥–∏—Ç –Ω–∏ –≤ –æ–¥–Ω—É –±—Ä–∏–≥–∞–¥—É

    #deleteConfirmModal.modal-window(style="display: none;")
      .modal-content
        .modal-header
          h3 –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
          button.modal-close#deleteModalClose √ó
        .modal-body
          .warning-message
            .warning-icon ‚ö†Ô∏è
            .warning-text
              h4 –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞?
              p
                strong= employee.fio
              p –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å. –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ.
        .modal-footer
          button.secondary-button#cancelDelete –û—Ç–º–µ–Ω–∞
          button.danger-button#confirmDelete –£–¥–∞–ª–∏—Ç—å

  script.
    document.addEventListener('DOMContentLoaded', function() {
      // ============ –ü–ï–†–ï–ú–ï–ù–ù–´–ï ============
      let isEditing = false;
      const saveButton = document.getElementById('editSaveButton'); 
      const formInputs = document.querySelectorAll('#employeeForm input');
      const formValues = document.querySelectorAll('#employeeForm .form-value');
      
      // –≠–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
      const deleteButton = document.getElementById('deleteButton');
      const deleteModal = document.getElementById('deleteConfirmModal');
      const deleteModalClose = document.getElementById('deleteModalClose');
      const cancelDeleteButton = document.getElementById('cancelDelete');
      const confirmDeleteButton = document.getElementById('confirmDelete');
      
      // –ü–æ–ª—É—á–∞–µ–º ID —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∏–∑ URL
      const pathSegments = window.location.pathname.split('/');
      const employeeId = pathSegments[pathSegments.length - 1];
      
      // ============ –§–£–ù–ö–¶–ò–ò ============
      // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —É–¥–∞–ª–µ–Ω–∏—è
      function closeDeleteModal() {
        if (deleteModal) {
          deleteModal.style.display = 'none';
          document.body.style.overflow = 'auto';
        }
      }
      
      // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –∫–Ω–æ–ø–∫–µ
      function toggleButtonLoading(button, isLoading, loadingText = '–ó–∞–≥—Ä—É–∑–∫–∞...') {
        if (isLoading) {
          button.disabled = true;
          const spinner = '<span class="loading-spinner"></span>';
          button.innerHTML = spinner + loadingText;
        } else {
          button.disabled = false;
          // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—Å—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è
          if (button === editSaveButton) {
            button.innerHTML = isEditing ? '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è' : '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å';
          } else {
            button.innerHTML = button.dataset.originalText || button.textContent;
          }
        }
      }
      
      // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
      function validateFormData(formData) {
        if (!formData.fio || !formData.phone || !formData.position_d) {
          alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (–§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –¥–æ–ª–∂–Ω–æ—Å—Ç—å)');
          return false;
        }
        
        if (formData.id_pol) {
          formData.id_pol = parseInt(formData.id_pol);
          if (isNaN(formData.id_pol)) {
            alert('ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∏—Å–ª–æ–º');
            return false;
          }
        }
        
        return true;
      }
      
      // ============ –û–ë–†–ê–ë–û–¢–ö–ê –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–Ø ============
      if (saveButton) {
        saveButton.addEventListener('click', async function() {
          // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ (–æ–Ω–∏ –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω—ã)
          const formData = {
            fio: document.getElementById('editfio').value.trim(),
            phone: document.getElementById('editphone').value.trim(),
            email: document.getElementById('editemail').value.trim(),
            position_d: document.getElementById('editposition_d').value.trim(),
            specialization: document.getElementById('editspecialization').value.trim(),
            id_pol: document.getElementById('editid_pol').value.trim()
          };
          
          // –ü—Ä–æ—Å—Ç–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
          if (!formData.fio || !formData.phone || !formData.position_d) {
            alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –¥–æ–ª–∂–Ω–æ—Å—Ç—å');
            return;
          }
          
          // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º id_pol –≤ —á–∏—Å–ª–æ –µ—Å–ª–∏ –µ—Å—Ç—å
          if (formData.id_pol && formData.id_pol !== '') {
            formData.id_pol = parseInt(formData.id_pol);
            if (isNaN(formData.id_pol)) {
              alert('ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∏—Å–ª–æ–º');
              return;
            }
          } else {
            formData.id_pol = null;
          }
          
          // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
          saveButton.disabled = true;
          saveButton.textContent = '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...';
          
          try {
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å
            const response = await fetch(`/employees/update/${employeeId}`, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify(formData)
            });
            
            const data = await response.json();
            
            if (data.msg === '') {
              alert('–î–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã');
              // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
              if (document.getElementById('viewFio')) {
                document.getElementById('viewFio').textContent = formData.fio;
              }
              if (document.getElementById('viewPhone')) {
                document.getElementById('viewPhone').textContent = formData.phone;
              }
            } else {
              alert('–û—à–∏–±–∫–∞: ' + data.msg);
            }
            
          } catch (error) {
            console.error('Error:', error);
            alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö');
          } finally {
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
            saveButton.disabled = false;
            saveButton.textContent = '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è';
          }
        });
      }
      
      // ============ –û–ë–†–ê–ë–û–¢–ö–ê –£–î–ê–õ–ï–ù–ò–Ø ============
      // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —É–¥–∞–ª–µ–Ω–∏—è
      if (deleteButton) {
        deleteButton.addEventListener('click', function() {
          if (isEditing) {
            alert('–ó–∞–≤–µ—Ä—à–∏—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞');
            return;
          }
          
          if (deleteModal) {
            deleteModal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
          }
        });
      }
      
      // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
      if (deleteModalClose) {
        deleteModalClose.addEventListener('click', closeDeleteModal);
      }
      
      if (cancelDeleteButton) {
        cancelDeleteButton.addEventListener('click', closeDeleteModal);
      }
      
      // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
      if (deleteModal) {
        deleteModal.addEventListener('click', function(event) {
          if (event.target === deleteModal) {
            closeDeleteModal();
          }
        });
      }
      
      // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ ESC
      document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape' && deleteModal && deleteModal.style.display === 'flex') {
          closeDeleteModal();
        }
      });
      
      // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
      if (confirmDeleteButton) {
        confirmDeleteButton.addEventListener('click', async function() {
          // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
          toggleButtonLoading(confirmDeleteButton, true, '–£–¥–∞–ª–µ–Ω–∏–µ...');
          
          try {
            // –í–ê–ñ–ù–û: –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL
            const response = await fetch(`/employees/delete/${employeeId}`, {
              method: 'DELETE',
              headers: {
                'Content-Type': 'application/json',
              }
            });
            
            const data = await response.json();
            
            if (data.msg === '') {
              alert('–°–æ—Ç—Ä—É–¥–Ω–∏–∫ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω');
              // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
              window.location.href = '/employees';
            } else {
              alert('–û—à–∏–±–∫–∞: ' + data.msg);
              closeDeleteModal();
            }
            
          } catch (error) {
            console.error('Error:', error);
            alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞');
          } finally {
            toggleButtonLoading(confirmDeleteButton, false);
          }
        });
      }
      
      // –°—Ç–∏–ª—å –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∑–∞–≥—Ä—É–∑–∫–∏
      const style = document.createElement('style');
      style.textContent = `
        .loading-spinner {
          display: inline-block;
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255,255,255,.3);
          border-radius: 50%;
          border-top-color: #fff;
          animation: spin 1s ease-in-out infinite;
          margin-right: 8px;
          vertical-align: middle;
        }
        
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `;
      document.head.appendChild(style);
    });

  style.
    /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ */
    .page-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 30px 20px;
    }
    
    .content-card {
      background: #FFFFFF;
      border-radius: 12px;
      padding: 40px;
      box-shadow: 0 4px 20px rgba(92, 78, 174, 0.1);
    }
    
    .page-title {
      font-size: 32px;
      color: #5C4EAE;
      margin: 0;
      font-weight: 600;
    }
    
    /* –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ */
    .navigation-links {
      display: flex;
      justify-content: space-between;
      margin-bottom: 25px;
    }
    
    .back-link, .home-link {
      color: #6C5FBC;
      text-decoration: none;
      font-size: 16px;
      font-weight: 500;
      transition: color 0.3s ease;
    }
    
    .back-link:hover, .home-link:hover {
      color: #5C4EAE;
      text-decoration: underline;
    }
    
    /* –®–∞–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è */
    .profile-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
      padding-bottom: 25px;
      border-bottom: 2px solid #EAEAEA;
    }
    
    /* –°–µ–∫—Ü–∏–∏ */
    .section-title {
      font-size: 24px;
      color: #5C4EAE;
      margin-bottom: 25px;
      font-weight: 600;
    }
    
    .form-section, .info-section {
      margin-bottom: 40px;
    }
    
    /* –§–æ—Ä–º–∞ */
    .profile-form {
      margin-bottom: 40px;
    }
    
    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 25px;
    }
    
    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .form-group label {
      font-weight: 600;
      color: #333;
      font-size: 16px;
    }
    
    .form-group input {
      padding: 14px 16px;
      border: 2px solid #EAEAEA;
      border-radius: 8px;
      font-size: 16px;
      background: #FFFFFF;
      transition: all 0.3s ease;
    }
    
    .form-group input:focus {
      outline: none;
      border-color: #6C5FBC;
      box-shadow: 0 0 0 3px rgba(108, 95, 188, 0.1);
    }
    
    .form-group input:disabled {
      background-color: #F8F8F8;
      color: #666;
      cursor: not-allowed;
    }
    
    .form-value {
      padding: 14px 0;
      font-size: 16px;
      color: #333;
      border-bottom: 1px solid #EAEAEA;
    }
    
    .form-actions {
      margin-top: 30px;
      padding-top: 25px;
      border-top: 2px solid #EAEAEA;
    }
    
    .buttons-row {
      display: flex;
      gap: 20px;
      justify-content: flex-start;
      align-items: center;
      flex-wrap: wrap;
    }

    /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ */
    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .info-item {
      display: flex;
      flex-direction: column;
      gap: 6px;
      padding: 15px;
      background: #F8F8F8;
      border-radius: 8px;
      border-left: 4px solid #6C5FBC;
    }
    
    .info-label {
      font-weight: 600;
      color: #5C4EAE;
      font-size: 14px;
    }
    
    .info-value {
      color: #333;
      font-size: 16px;
    }
    
    /* –ö–∞—Ä—Ç–æ—á–∫–∏ –±—Ä–∏–≥–∞–¥—ã */
    .info-card {
      background: #FFFFFF;
      border-radius: 12px;
      padding: 25px;
      border: 2px solid #EAEAEA;
      display: flex;
      align-items: flex-start;
      gap: 20px;
    }
    
    .team-leader-card {
      border-color: #FFD700;
      background: linear-gradient(135deg, #FFF9E6 0%, #FFF0B3 100%);
    }
    
    .team-member-card {
      border-color: #6C5FBC;
      background: linear-gradient(135deg, #F5F3FF 0%, #E6E1FF 100%);
    }
    
    .info-icon {
      font-size: 32px;
      background: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    
    .info-content {
      flex: 1;
    }
    
    .info-card h3 {
      font-size: 20px;
      color: #5C4EAE;
      margin: 0 0 15px 0;
      font-weight: 600;
    }
    
    .info-details {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .detail {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .detail-label {
      font-weight: 600;
      color: #666;
      font-size: 15px;
      min-width: 120px;
    }
    
    .detail-value {
      color: #333;
      font-size: 16px;
      font-weight: 500;
    }
    
    /* –°–æ–æ–±—â–µ–Ω–∏—è */
    .empty-message {
      text-align: center;
      padding: 40px 20px;
      color: #666;
      font-size: 18px;
      font-style: italic;
      background: #F8F8F8;
      border-radius: 8px;
      border: 1px dashed #DDD;
    }
    
    /* –ö–Ω–æ–ø–∫–∏ */
    .primary-button {
      background-color: #6C5FBC;
      color: white;
      padding: 14px 32px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 500;
      transition: all 0.3s ease;
      min-width: 200px;
    }
    
    .primary-button:hover {
      background-color: #5C4EAE;
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(108, 95, 188, 0.3);
    }
    
    .primary-button.save-button {
      background-color: #4CAF50; /* –ó–µ–ª—ë–Ω—ã–π –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è */
    }
    
    .primary-button.save-button:hover {
      background-color: #45a049;
      box-shadow: 0 6px 15px rgba(76, 175, 80, 0.3);
    }

    .no-permission-message {
      color: #666;
      font-style: italic;
      padding: 15px;
      text-align: center;
      background-color: #f5f5f5;
      border-radius: 8px;
      border: 1px solid #ddd;
    }

    .secondary-button {
      background-color: #EAEAEA;
      top: -100px;
      color: #333;
      padding: 12px 28px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 500;
      transition: all 0.3s ease;
    }
    
    .secondary-button:hover {
      background-color: #DDD;
      transform: translateY(-2px);
    }

    .buttons-container {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
    }
    
    .danger-button {
      background-color: #dc3545;
      color: white;
      padding: 14px 32px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 500;
      transition: all 0.3s ease;
      min-width: 200px;
    }
    
    .danger-button:hover {
      background-color: #c82333;
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(220, 53, 69, 0.3);
    }
    
    /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É–¥–∞–ª–µ–Ω–∏—è */
    #deleteConfirmModal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    
    #deleteConfirmModal .modal-content {
      background: #FFFFFF;
      border-radius: 12px;
      width: 500px;
      max-width: 90%;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    }
    
    #deleteConfirmModal .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 25px 30px;
      border-bottom: 1px solid #EAEAEA;
      background-color: #dc3545;
      border-radius: 12px 12px 0 0;
    }
    
    #deleteConfirmModal .modal-header h3 {
      color: white;
      margin: 0;
      font-size: 22px;
    }
    
    #deleteConfirmModal .modal-close {
      background: none;
      border: none;
      color: white;
      font-size: 28px;
      cursor: pointer;
      padding: 0;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: background-color 0.3s ease;
    }
    
    #deleteConfirmModal .modal-close:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }
    
    #deleteConfirmModal .modal-body {
      padding: 30px;
    }
    
    #deleteConfirmModal .modal-footer {
      padding: 20px 30px;
      border-top: 1px solid #EAEAEA;
      display: flex;
      justify-content: flex-end;
      gap: 15px;
    }
    
    .warning-message {
      display: flex;
      align-items: flex-start;
      gap: 20px;
    }
    
    .warning-icon {
      font-size: 40px;
      flex-shrink: 0;
    }
    
    .warning-text h4 {
      margin: 0 0 10px 0;
      color: #dc3545;
      font-size: 18px;
    }
    
    .warning-text p {
      margin: 8px 0;
      color: #333;
    }
    
    .warning-text strong {
      color: #dc3545;
      font-size: 17px;
    }
    
    @media (max-width: 768px) {
      .buttons-container {
        flex-direction: column;
      }
      
      .primary-button,
      .danger-button {
        width: 100%;
      }
      
      .warning-message {
        flex-direction: column;
        text-align: center;
      }
    }

    .loading-spinner {
      display: inline-block;
      width: 16px;
      height: 16px;
      border: 2px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s ease-in-out infinite;
      margin-right: 8px;
      vertical-align: middle;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    /* –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–æ–º –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ */
    body {
      transition: overflow 0.3s ease;
    }
    
    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 1024px) {
      .content-card {
        padding: 30px;
      }
      
      .form-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }
    }
    
    @media (max-width: 768px) {
      .page-container {
        padding: 20px 15px;
      }
      
      .content-card {
        padding: 25px 20px;
      }
      
      .profile-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 20px;
      }
      
      .page-title {
        font-size: 28px;
      }
      
      .section-title {
        font-size: 22px;
      }
      
      .navigation-links {
        flex-direction: column;
        gap: 15px;
      }
      
      .info-card {
        flex-direction: column;
        text-align: center;
      }
      
      .info-icon {
        align-self: center;
      }
      
      .detail {
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
      }
    }